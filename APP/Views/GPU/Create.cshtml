@model APP.Models.Gpu

@{
    var rolUsuario = Context.Session.GetString("Rol");
    var proveedores = ViewBag.Proveedores as List<APP.Models.Proveedor> ?? new List<APP.Models.Proveedor>();
}

<div class="container mt-5">
    <h2 class="mb-4">Añadir GPU</h2>

    <form asp-action="Create" method="post">
        <div class="row g-3">

            <!-- Marca -->
            <div class="col-md-6">
                <label class="form-label">Marca</label>
                <input asp-for="Marca" class="form-control" required />
            </div>

            <!-- Modelo -->
            <div class="col-md-6">
                <label class="form-label">Modelo</label>
                <input asp-for="Modelo" class="form-control" required />
            </div>

            <!-- VRAM -->
            <div class="col-md-4">
                <label class="form-label">VRAM</label>
                <input asp-for="VRAM" class="form-control" required />
            </div>

            <!-- Núcleos CUDA -->
            <div class="col-md-4">
                <label class="form-label">Núcleos CUDA</label>
                <input asp-for="NucleosCuda" type="number" class="form-control" required />
            </div>

            <!-- RayTracing -->
            <div class="col-md-4 d-flex align-items-center">
                <div class="form-check mt-4">
                    <input asp-for="RayTracing" class="form-check-input" type="checkbox" />
                    <label class="form-check-label">Ray Tracing</label>
                </div>
            </div>

            <!-- Imagen -->
            <div class="col-md-6">
                <label class="form-label">URL Imagen</label>
                <input asp-for="Imagen" class="form-control" />
            </div>

            <!-- Precio -->
            <div class="col-md-6">
                <label class="form-label">Precio</label>
                <input asp-for="Precio" type="number" step="0.01" class="form-control" required />
            </div>

            <!-- Proveedor existente -->
            <div class="col-md-6">
                <label class="form-label">Proveedor existente (opcional)</label>
                <select asp-for="ProveedoresIdProveedor" class="form-select">
                    <option value="0">-- Seleccionar proveedor existente --</option>
                    @foreach (var p in proveedores)
                    {
                        <option value="@p.IdProveedor">@p.Nombre</option>
                    }
                </select>
                <small class="text-muted">Opcional: selecciona un proveedor existente O crea uno nuevo abajo</small>
            </div>

            <!-- Nuevo proveedor -->
            <div class="col-md-6">
                <label class="form-label">Crear nuevo proveedor (opcional)</label>
                <input type="text" name="nuevoProveedorNombre" placeholder="Nombre *" class="form-control mb-1" />
                <input type="text" name="nuevoProveedorDireccion" placeholder="Dirección" class="form-control mb-1" />
                <input type="text" name="nuevoProveedorTelefono" placeholder="Teléfono" class="form-control mb-1" />
                <input type="email" name="nuevoProveedorEmail" placeholder="Email" class="form-control" />
                <small class="text-muted">Si completas el nombre, se creará un proveedor nuevo</small>
            </div>


            <!-- Botón submit -->
            <div class="col-12 mt-3">
                <button type="submit" class="btn btn-success w-100">Añadir GPU</button>
            </div>

            <div class="col-12 mt-2">
                <a asp-action="Index" class="btn btn-secondary w-100">Cancelar</a>
            </div>
        </div>
    </form>
</div>

<style>
    h2 { font-weight: bold; }
    .form-label { font-weight: 500; }
</style>
